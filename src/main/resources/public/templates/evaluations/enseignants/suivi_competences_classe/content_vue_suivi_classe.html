<!--
  ~ Copyright (c) Région Hauts-de-France, Département 77, CGI, 2016.
  ~
  ~ This file is part of OPEN ENT NG. OPEN ENT NG is a versatile ENT Project based on the JVM and ENT Core Project.
  ~
  ~ This program is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation (version 3 of the License).
  ~ For the sake of explanation, any module that communicate over native
  ~ Web protocols, such as HTTP, with OPEN ENT NG is outside the scope of this
  ~ license and could be license under its own terms. This is merely considered
  ~ normal use of OPEN ENT NG, and does not fall under the heading of "covered work".
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  ~
  -->

<script type="text/ng-template"  id="tree_item_renderer.html">

    <div>
        <h4 class="margin-top-1em" ng-if="domaine.niveau === 1">[[domaine.codification]] - [[domaine.libelle]]</h4>
        <h3 class="margin-top-1em" ng-if="domaine.niveau > 1" ng-style="{'font-size': 'calc(150% - (15% * [[domaine.niveau]]))'}">[[domaine.codification]] - [[domaine.libelle]]</h3>
    </div>

    <div ng-class="{'margin-top-1em' : domaine.competences.length > 0}">
        <div class="suivi-eleve-item" ng-click="openDetailCompetence(competence)" ng-repeat="competence in domaine.competences.all">
            <div class="six inline-block ellipsis">
                [[competence.nom]]
            </div>
            <div class="five inline-block align-center">
                <proportion-suivi-competence evaluations="competence.competencesEvaluations" filter="suiviFilter" user="me"></proportion-suivi-competence>
            </div>
        </div>
    </div>

    <div ng-repeat="domaine in domaine.domaines.all" ng-include="'tree_item_renderer.html'">
    </div>


</script>

<div ng-repeat="domaine in suiviCompetence.domaines.all" ng-include="'tree_item_renderer.html'">
</div>
