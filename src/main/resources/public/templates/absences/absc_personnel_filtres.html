<div ng-controller="AbscFiltresPersonnelController">
    <div class="filtre filtre-enseignants" ng-class="{opened : pOFilterCtrl.enseignants}">
        <h4 ng-click="pOFilterCtrl.enseignants = !pOFilterCtrl.enseignants">Enseignants
            <span class="plus-input"></span>
        </h4>
        <span class="filter__input--icon"><input type="text" ng-model="pORecherche.pSNomEnseignant" placeholder="Rechercher"></span>
        <div class="filtre__toolbar">
            <button ng-click="switchAll(structure.enseignants, true)" tooltip="viescolaire.utils.selectAll" class="filtre__toolbar__button select"></button>
            <button ng-click="switchAll(structure.enseignants, false)" tooltip="viescolaire.utils.deselectAll" class="filtre__toolbar__button deselect"></button>
        </div>
        <ul class="selectable-list">
            <li ng-repeat="enseignant in structure.enseignants.all | filter:pORecherche.pSNomEnseignant | orderBy : 'lastName'" ng-click="enseignant.selected = !enseignant.selected"
                ng-class="{selected : enseignant.selected}">[[enseignant.lastName]] [[enseignant.firstName]]</li>
        </ul>
    </div>
    <div class="filtre filtre-classes" ng-class="{opened : pOFilterCtrl.classes}">
        <h4 ng-click="pOFilterCtrl.classes = !pOFilterCtrl.classes">Classes
            <span class="plus-input"></span>
        </h4>
        <span class="filter__input--icon"><input type="text" ng-model="pORecherche.pSNomClasse" placeholder="Rechercher"></span>
        <div class="filtre__toolbar">
            <button ng-click="switchAll(structure.classes, true)" tooltip="viescolaire.utils.selectAll" class="filtre__toolbar__button select"></button>
            <button ng-click="switchAll(structure.classes, false)" tooltip="viescolaire.utils.deselectAll" class="filtre__toolbar__button deselect"></button>
        </div>
        <ul class="selectable-list">
            <li ng-repeat="classe in structure.classes.all | filter:{name:pORecherche.pSNomClasse} | orderBy : 'name'" ng-click="classe.selected = !classe.selected"
                ng-class="{selected : classe.selected}">[[classe.name]]</li>
        </ul>
    </div>
    <div class="filtre filtre-responsables" ng-show="psDisplayReponsables" ng-class="{opened : pOFilterCtrl.responsables}">
        <h4 ng-click="pOFilterCtrl.responsables = !pOFilterCtrl.responsables">Informations responsables
            <span class="plus-input"></span></h4>
        <div class="row accordions">
            <article class="accordion" ng-class="{opened: pOOpenedResponsable == responsable.id}" ng-repeat="responsable in pOResponsable">
                <h2 ng-click="openResponsable(responsable.id)">[[responsable.lastName]] [[responsable.firstName]]</h2>
                <div class="toggle">
                    <div class="content">
                        <span ng-if="responsable.homePhone"><i class="phone"></i> : [[responsable.homePhone]]<br/></span>
                        <span ng-if="responsable.workPhone"><i class="phone"></i> : [[responsable.workPhone]]<br/></span>
                        <span ng-repeat="mobilePhone in responsable.mobilePhone"><i class="phone"></i> : [[mobilePhone]]<br/></span>
                        <span><i class="home"></i> : [[responsable.address]], [[responsable.zipCode]] [[responsable.city]]</span>
                    </div>
                </div>
            </article>
        </div>
    </div>
</div>
